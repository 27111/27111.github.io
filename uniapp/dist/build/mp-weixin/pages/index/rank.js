(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/rank"],{"463f":function(t,e,a){"use strict";a.r(e);var r=a("4f64"),o=a("51c8");for(var n in o)"default"!==n&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("5504");var i,c=a("f0c5"),s=Object(c["a"])(o["default"],r["b"],r["c"],!1,null,"2e725ef6",null,!1,r["a"],i);e["default"]=s.exports},"4f64":function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return r}));var r={waterfallLists:function(){return a.e("components/waterfall-lists/waterfall-lists").then(a.bind(null,"a023"))},uniLoadMore:function(){return Promise.all([a.e("common/vendor"),a.e("uni_modules/uni-load-more/components/uni-load-more/uni-load-more")]).then(a.bind(null,"f8ed"))}},o=function(){var t=this,e=t.$createElement,r=(t._self._c,t.collectItems.shareDto&&t.waterfall.poiBriefDtoList?a("c498"):null),o=t.collectItems.shareDto&&t.waterfall.poiBriefDtoList?a("b12e"):null,n=t.collectItems.length&&!t.waterfall.length?a("4729"):null;t.$mp.data=Object.assign({},{$root:{m0:r,m1:o,m2:n}})},n=[]},"51c8":function(t,e,a){"use strict";a.r(e);var r=a("80ac"),o=a.n(r);for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e["default"]=o.a},5504:function(t,e,a){"use strict";var r=a("9345"),o=a.n(r);o.a},"80ac":function(t,e,a){"use strict";(function(t){function a(t){return i(t)||n(t)||o(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){if(t){if("string"===typeof t)return c(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?c(t,e):void 0}}function n(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function i(t){if(Array.isArray(t))return c(t)}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={data:function(){return{areaId:"",btnId:1,collectItems:[],waterfall:[],status:"more",loadingText:"加载中...",loadingType:0,contentText:{contentdown:"查看更多",contentrefresh:"加载中",contentnomore:"没有更多"},load:0,page:1,timer:{}}},onReachBottom:function(){var t=this;null!=this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.getmorenews()}),1e3)},onShow:function(){this.areaId=getApp().globalData.id},onLoad:function(){var e=this;t.request({url:"https://m.ctrip.com/restapi/soa2/20508/getRankingPage",method:"POST",data:{category:"",category0:"",category1:"",lat:"",lng:"",districtId:"294211",year:"",award:0,cityId:"",countryId:"294211",isGotoErrorPage:!0},success:function(t){e.collectItems=t.data}}),t.request({url:"https://m.ctrip.com/restapi/soa2/20508/waterfall",method:"POST",data:{pageIndex:1,category:"1",category0:"1",category1:"",lat:"null",lng:"null",districtId:294211,year:"",award:0,cityId:"",countryId:294211,uuid:"",isGotoErrorPage:!1},success:function(t){e.waterfall=t.data}})},methods:{active:function(e){var a=this;console.log(e),this.btnId=e,t.request({url:"https://m.ctrip.com/restapi/soa2/20508/getRankingPage",method:"POST",data:{category:e,category0:"2",category1:"",lat:"",lng:"",districtId:this.areaId,year:"",award:0,cityId:"",countryId:this.areaId,isGotoErrorPage:!0},success:function(t){console.log(t),a.collectItems=t.data}}),t.request({url:"https://m.ctrip.com/restapi/soa2/20508/waterfall",method:"POST",data:{pageIndex:1,category:e,category0:e,category1:"",lat:"null",lng:"null",districtId:this.areaId,year:"",award:0,cityId:"",countryId:this.areaId,uuid:"",isGotoErrorPage:!1},success:function(t){a.waterfall=t.data}})},setAjax:function(){var e=this;t.request({url:"https://m.ctrip.com/restapi/soa2/20508/waterfall",method:"POST",data:{pageIndex:this.btnId,category:"1",category0:"1",category1:"",lat:"null",lng:"null",districtId:this.areaId,year:"",award:0,cityId:"",countryId:this.areaId,uuid:"",isGotoErrorPage:!1},success:function(t){e.waterfall=t.data}})},getmorenews:function(){var e=this;if(this.page++,0!==this.loadingType)return!1;this.loadingType=1,t.showNavigationBarLoading(),t.request({url:"https://m.ctrip.com/restapi/soa2/20508/waterfall",method:"POST",data:{pageIndex:2,category:this.btnId,category0:this.btnId,category1:"",lat:"null",lng:"null",districtId:this.areaId,year:"",award:0,cityId:"",countryId:this.areaId,uuid:"",isGotoErrorPage:!1},success:function(r){var o;if(t.hideLoading(),""==r.data.poiBriefDtoList)return e.loadingType=2,void t.hideNavigationBarLoading();(o=e.waterfall.poiBriefDtoList).push.apply(o,a(r.data.poiBriefDtoList)),e.loadingType=0,t.hideNavigationBarLoading()}})},newDate:function(e){var a=this;t.request({url:"https://m.ctrip.com/restapi/soa2/20508/getRankingPage",method:"POST",data:{category:"",category0:"",category1:"",lat:"",lng:"",districtId:e,year:"",award:0,cityId:"",countryId:e,isGotoErrorPage:!0},success:function(t){a.collectItems=t.data,a.districtId(a.collectItems.districtId)}})},districtId:function(e){var a=this;t.request({url:"https://m.ctrip.com/restapi/soa2/20508/waterfall",method:"POST",data:{pageIndex:1,category:"1",category0:"1",category1:"",lat:"null",lng:"null",districtId:e,year:"",award:0,cityId:"",countryId:e,uuid:"",isGotoErrorPage:!1},success:function(t){a.waterfall=t.data}})},toRankingDetail:function(e){t.navigateTo({url:"/pages/area/RankingDetail?id="+e})}},watch:{areaId:function(t){this.newDate(t)}}};e.default=s}).call(this,a("543d")["default"])},"8f33":function(t,e,a){"use strict";(function(t){a("24c9");r(a("66fd"));var e=r(a("463f"));function r(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=a,t(e.default)}).call(this,a("543d")["createPage"])},9345:function(t,e,a){}},[["8f33","common/runtime","common/vendor"]]]);